:root {
    /* Light Mode Colors */
    --bg-color: #ffffff;
    --sidebar-bg: #202123;
    /* Sidebar is always dark in ChatGPT usually, but we can make it adapt or stay dark. Let's keep it dark for contrast or adapt. Actually ChatGPT sidebar is dark. Let's stick to a dark sidebar for both modes for now, or adapt. Let's adapt for a cleaner light mode. */
    --sidebar-bg-light: #f9f9f9;
    --sidebar-bg-dark: #202123;

    --text-color: #343541;
    --text-color-secondary: #6e6e80;

    --chat-bg: #ffffff;
    --input-bg: #ffffff;
    --border-color: #d9d9e3;

    --user-msg-bg: #ffffff;
    --bot-msg-bg: #f7f7f8;

    --hover-color: #ececf1;
    --button-hover: #d9d9e3;

    /* Default to Light Mode */
    --main-bg: var(--chat-bg);
    --sidebar-main: var(--sidebar-bg-dark);
    /* Sidebar usually stays dark */
    --sidebar-text: #ececf1;
    --main-text: var(--text-color);
}

/* Dark Mode Variables */
body.dark-mode {
    --bg-color: #343541;
    --text-color: #ececf1;
    --text-color-secondary: #c5c5d2;

    --chat-bg: #343541;
    --input-bg: #40414f;
    --border-color: #565869;

    --user-msg-bg: #343541;
    --bot-msg-bg: #444654;

    --hover-color: #2a2b32;
    --button-hover: #40414f;

    --main-bg: var(--chat-bg);
    --main-text: var(--text-color);
}

* {
    box-sizing: border-box;
}

body {
    font-family: 'Inter', 'SÃ¶hne', 'ui-sans-serif', 'system-ui', -apple-system, 'Segoe UI', Roboto, Ubuntu, Cantarell, 'Noto Sans', sans-serif, 'Helvetica Neue', Arial, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    background-color: var(--main-bg);
    color: var(--main-text);
    margin: 0;
    display: flex;
    height: 100vh;
    overflow: hidden;
    transition: background-color 0.3s, color 0.3s;
}

/* Layout */
.app-container {
    display: flex;
    width: 100%;
    height: 100%;
}

/* Sidebar */
.sidebar {
    width: 260px;
    background-color: var(--sidebar-bg-dark);
    color: #ececf1;
    display: flex;
    flex-direction: column;
    padding: 10px;
    transition: transform 0.3s ease-in-out;
    flex-shrink: 0;
}

.new-chat-btn {
    display: flex;
    align-items: center;
    gap: 12px;
    width: 100%;
    padding: 14px 16px;
    background-color: transparent;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 6px;
    color: #ececf1;
    cursor: pointer;
    font-size: 0.95rem;
    transition: background-color 0.2s, border-color 0.2s;
    margin-bottom: 20px;
    text-align: left;
}

.new-chat-btn:hover {
    background-color: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.3);
}

.new-chat-btn svg {
    width: 18px;
    height: 18px;
}

.history-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

.history-item.active {
    background-color: rgba(255, 255, 255, 0.2);
}

/* Main Content */
.main-content {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    position: relative;
    background-color: var(--main-bg);
}

/* Top Bar */
.top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    /* border-bottom: 1px solid var(--border-color); */
    /* Optional: remove for cleaner look */
    color: var(--text-color-secondary);
}

.model-selector {
    font-weight: 600;
    font-size: 1.1rem;
    color: var(--main-text);
}

.theme-toggle {
    background: none;
    border: none;
    cursor: pointer;
    color: var(--main-text);
    padding: 5px;
    border-radius: 5px;
    transition: background-color 0.2s;
}

.theme-toggle:hover {
    background-color: var(--hover-color);
}

.theme-toggle svg {
    width: 24px;
    height: 24px;
}

/* Chat Window */
.chat-window {
    flex-grow: 1;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    scroll-behavior: smooth;
    padding-bottom: 150px;
    /* Space for input area */
}

/* Welcome Screen */
.welcome-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    text-align: center;
    padding: 20px;
    color: var(--main-text);
}

.welcome-container.hidden {
    display: none;
}

.logo {
    font-size: 3rem;
    font-weight: bold;
    margin-bottom: 20px;
    background-color: #10a37f;
    color: white;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.welcome-container h1 {
    margin-bottom: 40px;
    font-size: 2rem;
}

.example-prompts {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
    max-width: 600px;
}

.prompt {
    background-color: var(--bot-msg-bg);
    padding: 12px 20px;
    border-radius: 5px;
    cursor: pointer;
    border: 1px solid var(--border-color);
    transition: background-color 0.2s;
    font-size: 0.95rem;
}

.prompt:hover {
    background-color: var(--hover-color);
}

/* Messages */
.message-wrapper {
    width: 100%;
    padding: 24px 0;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

body.dark-mode .message-wrapper {
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.user-wrapper {
    background-color: var(--user-msg-bg);
}

.bot-wrapper {
    background-color: var(--bot-msg-bg);
}

.message-content-container {
    max-width: 768px;
    margin: 0 auto;
    display: flex;
    gap: 20px;
    padding: 0 20px;
}

.avatar {
    width: 30px;
    height: 30px;
    border-radius: 2px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    flex-shrink: 0;
}

.user-wrapper .avatar {
    background-color: #5436DA;
    /* User color */
    color: white;
    border-radius: 2px;
}

.bot-wrapper .avatar {
    background-color: #10a37f;
    /* Bot color */
    color: white;
}

.message {
    flex-grow: 1;
    line-height: 1.6;
    font-size: 1rem;
    overflow-wrap: break-word;
}

.message p {
    margin-top: 0;
    margin-bottom: 1em;
}

.message p:last-child {
    margin-bottom: 0;
}

/* Input Area */
.input-area-container {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    background-image: linear-gradient(180deg, rgba(255, 255, 255, 0), var(--main-bg) 50%);
    padding: 20px 0 30px;
}

body.dark-mode .input-area-container {
    background-image: linear-gradient(180deg, rgba(52, 53, 65, 0), var(--main-bg) 50%);
}

.input-area {
    max-width: 768px;
    margin: 0 auto;
    padding: 0 20px;
    position: relative;
}

.chat-input-form {
    display: flex;
    align-items: flex-end;
    background-color: var(--input-bg);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    /* Rounded like ChatGPT */
    padding: 10px 10px 10px 16px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
    position: relative;
}

#message-input {
    flex-grow: 1;
    background-color: transparent;
    border: none;
    color: var(--main-text);
    font-family: inherit;
    font-size: 1rem;
    resize: none;
    max-height: 200px;
    outline: none;
    padding: 0;
    margin-right: 10px;
    line-height: 1.5;
}

#send-button {
    background-color: transparent;
    border: none;
    color: var(--text-color-secondary);
    cursor: pointer;
    padding: 5px;
    border-radius: 5px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s, color 0.2s;
}

#send-button:hover {
    background-color: var(--hover-color);
    color: var(--main-text);
}

#send-button svg {
    width: 16px;
    height: 16px;
}

.footer-text {
    text-align: center;
    font-size: 0.75rem;
    color: var(--text-color-secondary);
    margin-top: 12px;
}

/* Thinking Indicator */
.dot {
    display: inline-block;
    width: 6px;
    height: 6px;
    background-color: var(--text-color-secondary);
    border-radius: 50%;
    margin-right: 4px;
    animation: thinking 1.4s infinite ease-in-out both;
}

.dot:nth-child(1) {
    animation-delay: -0.32s;
}

.dot:nth-child(2) {
    animation-delay: -0.16s;
}

@keyframes thinking {

    0%,
    80%,
    100% {
        transform: scale(0);
    }

    40% {
        transform: scale(1);
    }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #555;
}

/* Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.message-wrapper {
    animation: fadeIn 0.3s ease-out;
}

/* Sidebar Polish */
.history-item {
    padding: 10px 12px;
    border-radius: 6px;
    margin-bottom: 2px;
    font-size: 0.9rem;
    transition: background-color 0.2s, color 0.2s;
    color: #ececf1;
    display: flex;
    align-items: center;
    gap: 12px;
    /* Increased gap for cleaner look */
    overflow: hidden;
}

.history-item svg {
    opacity: 0.7;
    flex-shrink: 0;
    width: 16px;
    height: 16px;
}

.history-item span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    flex-grow: 1;
}

.history-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

.history-item.active {
    background-color: rgba(255, 255, 255, 0.2);
}

/* Input Area Polish */
.chat-input-form {
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.2s, border-color 0.2s;
}

.chat-input-form:focus-within {
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    border-color: rgba(0, 0, 0, 0.2);
}

body.dark-mode .chat-input-form {
    box-shadow: none;
    border: 1px solid rgba(255, 255, 255, 0.2);
    background-color: #40414f;
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .sidebar {
        display: none;
        /* Hide sidebar on mobile for now */
    }

    .message-content-container {
        padding: 0 10px;
    }

    .input-area {
        padding: 0 10px;
    }
}